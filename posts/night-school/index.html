<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="theme" content="Chirpy v2.5.1"><meta name="generator" content="Jekyll v4.3.4" /><meta property="og:title" content="Night School" /><meta name="author" content="David" /><meta property="og:locale" content="en_US" /><meta name="description" content="From /r/WritingPrompts, a story of a mathematical ghost that won&#39;t leave, a girl who doesn&#39;t like him too much, an RSA-encrypted message that can&#39;t be decoded, and number theory that death can&#39;t end." /><meta property="og:description" content="From /r/WritingPrompts, a story of a mathematical ghost that won&#39;t leave, a girl who doesn&#39;t like him too much, an RSA-encrypted message that can&#39;t be decoded, and number theory that death can&#39;t end." /><link rel="canonical" href="http://hallofdreams.org/posts/night-school/" /><meta property="og:url" content="http://hallofdreams.org/posts/night-school/" /><meta property="og:site_name" content="Hall of Impossible Dreams" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-06-16T13:00:00-04:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Night School" /><meta name="twitter:site" content="@thecog19" /><meta name="twitter:creator" content="@David" /><meta name="google-site-verification" content="rOMa9oYHtFBq7U58IniOX1gggI6noWpOXoWBk-9hItk" /> <script type="application/ld+json"> {"description":"From /r/WritingPrompts, a story of a mathematical ghost that won&#39;t leave, a girl who doesn&#39;t like him too much, an RSA-encrypted message that can&#39;t be decoded, and number theory that death can&#39;t end.","@type":"BlogPosting","url":"http://hallofdreams.org/posts/night-school/","headline":"Night School","dateModified":"2021-06-16T13:00:00-04:00","datePublished":"2021-06-16T13:00:00-04:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://hallofdreams.org/posts/night-school/"},"author":{"@type":"Person","name":"David"},"@context":"https://schema.org"}</script><title>Night School | Hall of Impossible Dreams</title><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon.png"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png"><link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/manifest.json"><meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="cdn.jsdelivr.net"><link rel="dns-prefetch" href="cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"><link rel="preload" as="style" href="/assets/css/post.css"><link rel="stylesheet" href="/assets/css/post.css"><link rel="preload" as="style" href="/assets/css/lib/bootstrap-toc.min.css"><link rel="stylesheet" href="/assets/css/lib/bootstrap-toc.min.css" /> <script async src="https://www.googletagmanager.com/gtag/js?id=G-QGYEJ40C64"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-QGYEJ40C64'); </script> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script async src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script async src="/assets/js/post.min.js"></script> <script defer src="/app.js"></script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column"><div id="nav-wrapper"><div id="profile-wrapper" class="d-flex flex-column"><div id="avatar" class="d-flex justify-content-center"> <a href="/" alt="avatar"> <img src="/assets/img/sample/avatar.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="profile-text mt-3"><div class="site-title"> <a href="/">Hall of Impossible Dreams</a></div><div class="site-subtitle font-italic">A repository of code, fiction, nonfiction, and poetry.</div></div></div><ul class="nav flex-column"><li class="nav-item d-flex justify-content-center "> <a href="/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item d-flex justify-content-center "> <a href="/tabs/categories/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item d-flex justify-content-center "> <a href="/tabs/tags/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item d-flex justify-content-center "> <a href="/tabs/archives/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item d-flex justify-content-center "> <a href="/tabs/about/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul></div><div class="sidebar-bottom d-flex flex-wrap justify-content-around mt-4"> <span id="mode-toggle-wrapper"> <i class="mode-toggle fas fa-sun" dark-mode-invisible></i> <i class="mode-toggle fas fa-moon" light-mode-invisible></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.mode != null) { if (this.mode == ModeToggle.DARK_MODE) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.mode != null) { if (self.mode == ModeToggle.DARK_MODE) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span> <span class="icon-border"></span> <a href="https://github.com/hallofdreams" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/thecog19" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['felipe.suero19','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>Night School</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Night School</h1><div class="post-meta text-muted d-flex flex-column"><div> Posted <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Wed, Jun 16, 2021, 1:00 PM -0400" > Jun 16, 2021 <i class="unloaded">2021-06-16T13:00:00-04:00</i> </span> <span class="author"> by David </span></div></div><div class="post-content"><div style="display:none;">From /r/WritingPrompts, a story of a mathematical ghost that won't leave, a girl who doesn't like him too much, an RSA-encrypted message that can't be decoded, and number theory that death can't end.</div><p><em>This was originally written for /r/WritingPrompts: <a href="https://old.reddit.com/r/WritingPrompts/comments/o13095/wp_the_ghost_likes_to_quiz_you_with_math/">“[WP] The ghost likes to quiz you with math questions. Lately, it’s all been about really advanced number theory, like it’s grooming you to crack RSA encryption.”</a>.</em></p><p><em>With a prompt like that, how could I resist?</em></p><h1 id="night-school">Night School</h1><h2 id="part-1">Part 1</h2><p>“Good evening, Miss Pomerance. Did you finish your homework?”</p><p>You never can tell for certain with ghosts, but after three months I’d learned his habits pretty well. He never appeared before sunset or stayed after sunrise, never was visible in view of a camera or when I had company, never spoke without being polite, and never left without asking at least one question. I’d given up trying to take a picture after the first week, and at this point, I’d almost accepted the fact that a ghost showed up for a conversation every night. I like to think I’m pretty tolerant, pretty open-minded; I take life as it comes. Ever since I was old enough to travel by myself, I’ve loved backpacking, and what I’ve loved most about it is talking to random people in out-of-the-way spots who I’d never meet, not in a million years, in my day-to-day life. If a ghost was polite to me, I could be polite back. But I had to draw the line somewhere.</p><p>“I keep telling you, I’m not going to read a dozen books just because you ask nicely. I have a life during the day and I’m not going to waste my free time on this stuff.”</p><p>“Indeed you do, and like I always say, life is wasted on the living. These books would do you far more good than you think, especially Hardy’s or Sedgewick’s. But skip chapter XVIII of Hardy’s; we have better upper and lower bounds for all of those functions now, and approximations are only useful for mathematicians too puffed up to do REAL exact work. Now, Sedgewick is a little weak on the theory since he focuses on the practical algorithms, so what I liked to do was have Mollin’s next to me to reference while I read it…”</p><p>I knew, from hard experience, that he’d go on like this for a very long time if I didn’t interrupt.</p><p>“Listen, stop, just stop. I’m not reading Hardy, or Sedgewick, or Mollin, or Cameron, or any of these other books you keep pushing. If you just want somebody to talk to, I’ll be here, but if you want to talk math, go haunt a mathematician somewhere. I’m sure there are college professors who’d love to speak to you.”</p><p>“I talked to many mathematicians when I was alive, and college professors too. Too many for my liking, to tell you the honest truth. I wanted new company.”</p><p>“But why me, specifically? It’s not like there’s anything particular about me you’re interested in. You’ve never once asked me how my day is going.”</p><p>“How was your day today, Miss Pomerance?”</p><p>I sighed. I should have seen that coming.</p><p>“You know what? It was great. The weather is gorgeous outside, work wasn’t too hard, and I had a nice dinner date over next to the arboretum. It was a nice day, right up until sunset. Thank you for asking.”</p><p>“Excellent!”</p><p>He seemed…genuinely happy to hear that? His features were always indistinct, but this time his face seemed less rigid and solemn than usual? Normally, talking to him is like talking to a picture with a mouth that moves, but I could see his face actually change a little.</p><p>“So it would seem by all accounts,” he said after a long pause, “that an hour or so of number theory would be a fine way to get ready for bed.”</p><p>Well, I should have known that wouldn’t last.</p><p>“Ugh. It’s been three months and the only person you haunt is me, and all you ever talk about is math and algorithms, and you won’t tell me why, and you won’t even tell me your name!”</p><p>“OoOoooOOOooiamaghostwhosememorieswashawayonthesandsoftimeOooooOoOOOOoooo…”</p><p>“Oh, so you can remember my name, and the name of every math textbook author who ever lived, but not your own name?”</p><p>“OoooOooOooononeescapetheriverlethewhosewatersbringoblivionOooooooOOO…”</p><p>“You’re annoying, you know that? There <em>have</em> to be better uses of your time. Why not just go to Heaven and stop hanging around this mortal coil?”</p><p>“You could go there too. Go get martyred somewhere and you’re a shoe-in at the Pearly Gates, or so a reliable source tells me. Are you particularly eager to go?”</p><p>I didn’t give him the satisfaction of an answer.</p><p>Plus, I didn’t really know what to say. The ghost stories I read when I was a little girl all said that ghosts get stuck, doing the same things over and over again that they did in life, until some condition gets met and they can move on. But this ghost seemed a lot more coherent and self-aware than the ones I’d read about, and if I kept having this conversation with him then <em>I’d</em> be the one stuck doing the same things over and over again. What else could I say that I hadn’t said before a dozen times?</p><p>“Fine. I’ll humour you. Pick one of these books and one chapter, and I’ll read it before tomorrow night. How about that?”</p><p>The ghost reached out a hand and pointed midway through the stack.</p><p>“This one”, he said.</p><p>I pulled it out and looked at the title. <em>Algebraic Number Theory</em> by Frazer Jarvis. “Jarvis?” I asked. “What, did a butler write this book?”</p><p>“A butler? You’re thinking of Jeeves, not Jarvis.”</p><p>“No, Jarvis is…never mind.”</p><p>“Chapter eleven. Just the first two sections, with the quadratic sieve. Don’t worry about the rest of the chapter yet, but do try the exercises. We’ll talk tomorrow night.”</p><p>I nodded, and he vanished. <em>Well</em>, I thought to myself, <em>how bad could it be?</em> I picked up the book, flipped to the chapter, and started reading.</p><blockquote><p>A very well-known protocol is the RSA system for encryption and decryption of messages. At the heart of this system lies the observation that while multiplication of two numbers is easy, recovering the factors of a product is difficult. Sometimes the analogy is made with mixing pots of paint of different colors - mixing a pot of red paint and a pot of white paint to get a suitable shade of pink is easy, but given a mixed pot of pink paint, separating out the white and red paints is very difficult!</p></blockquote><p>“Getting rid of some red paint can’t possibly be more difficult than getting rid of a math-obsessed ghost,” I muttered, and kept reading.</p><h2 id="part-2">Part 2</h2><blockquote><p>Sieve the twos and sieve the threes -<br /> The Sieve of Eratosthenes!<br /> When the multiples sublime<br /> The numbers which remain are prime!</p><p>Add <code class="language-plaintext highlighter-rouge">log p</code> as you advance -<br /> Such is the Sieve of Pomerance!<br /> The largest sums which you have found<br /> Give numbers which are smooth and round!</p><p>Mark out a gigantic square.<br /> Add <code class="language-plaintext highlighter-rouge">log</code>s at random everywhere.<br /> This brief account you must forgive<br /> Of Pollard’s Number Field Sieve!</p><p>– John M. Pollard, “A Tale of Two Sieves”</p></blockquote><p>“So, Miss Pomerance, if I gave you an eleven-digit semiprime, how would you factor it?”</p><p>“Just eleven digits? I’d do trial division.”</p><p>“And how long would that take to run?”</p><p>“Only a few seconds, if that. If all you want to factor is one number less than a trillion, then even an inefficient algorithm will get it almost instantly.”</p><p>It was two weeks later, and though I was yet to admit it, I was starting to find the math interesting. And I was almost…irritated? that I followed some of it. I thought when I picked up Jarvis’ book that I’d look at it, not understand a word of it, and maybe convince the ghost to go haunt a library or a math fraternity or something when he saw I wasn’t getting it. But bits of it stuck with me.</p><p>“But trial division involves every prime, and there are thirty-seven billion primes less than a trillion. Computers might be a bit faster than they were in my day, but don’t tell me they can do <em>that</em> in a second.”</p><p>“You only need to go up to the square root of a number in trial division. If it’s a semiprime, then you have two prime numbers <code class="language-plaintext highlighter-rouge">a*b</code> that equal <code class="language-plaintext highlighter-rouge">N</code>, and if <code class="language-plaintext highlighter-rouge">b</code> is bigger than the square root, <code class="language-plaintext highlighter-rouge">a</code> has to be smaller. And there are only…uhhh…sixty-eight thousand primes less than a million.”</p><p>“<em>Seventy</em>-eight thousand,” he corrected. “The prime-pi of a million is seventy-eight thousand, four hundred and ninety-eight.”</p><p>“How in the world do you remember all these off the top of your…well, head?”</p><p>“You’d be surprised at how frequently it came up, Miss Pomerance.”</p><p>“Still ‘Miss Pomerance’? I have a first name, you know.”</p><p>“You do indeed, but I was old even before I was dead, and I still remember how to be polite.”</p><p>I turned to the copyright page of <em>Algebraic Number Theory</em>. “This was published in 2014, so if you’ve read it you can’t be all <em>that</em> old. And Lewis Carroll wrote a whole book with my first name in the title, and that was like a hundred fifty years ago. It can’t be too much to ask.”</p><p>“And if I were in mid-nineteenth century Oxford as Lewis Carroll was when he was alive, surrounded by a proper aesthetic sense, perhaps I too would feel less need for formal social graces.”</p><p>“I think I can see why those math professors you’ve mentioned didn’t want you hanging around, before your death or after it.”</p><p>“Those philistines wear cargo shorts to conferences. Disgraceful. At any rate, you’re quite correct, a computer would handle trial division up to a million with ease. How about a twenty-digit number?”</p><p>“You could just about do it with trial division, but a decently powered computer would take a while, especially if the primes were close to each other.”</p><p>“And if the primes were close, what could you do then?”</p><p>“You could check for factors both near the square root. <code class="language-plaintext highlighter-rouge">x^2 - y^2 = (x+y)(x-y)</code> Start listing each <code class="language-plaintext highlighter-rouge">x^2</code> greater than your number <code class="language-plaintext highlighter-rouge">N</code>, and when the difference is a square then you have two factors.”</p><p>I took a deep breath when I finished that sentence. I dreaded my next question, but I had to ask him.</p><p>“Your haunting me, pestering me about factorization, your entire shtick of speaking all formal - was all this only to set up a pun about ‘difference of squares’?”</p><p>“Months of work only to set up a pun? I’m not nearly that smooth, but I’ll confess it had crossed my mind. And what happens if my number <code class="language-plaintext highlighter-rouge">N</code> has primes neither especially close together nor especially far away?”</p><p>“Parallel processing, I guess. Have one process do trial division, another process do squares, and see which one finishes first.”</p><p>“Come now, you’ve read Jarvis, at least the first couple sections. Isn’t there a better way?”</p><p>“Ughh…I read it, I get the theory I think, but I just can’t figure out how to make it work.”</p><p>“Then forget all the stuff about the index calculus, that’s all bookkeeping. Tell me what the quadratic sieve <em>means</em>.”</p><p>“Basically, it’s the same idea as the difference of squares. If <code class="language-plaintext highlighter-rouge">x^2-y^2</code> equals <code class="language-plaintext highlighter-rouge">N</code>, then that makes life easy, but we don’t really need that. All we need is <code class="language-plaintext highlighter-rouge">x^2-y^2</code> to be divisible by <code class="language-plaintext highlighter-rouge">N</code>. If it is, then <code class="language-plaintext highlighter-rouge">(x+y)(x-y)</code> is divisible by <code class="language-plaintext highlighter-rouge">N</code>, and so part of <code class="language-plaintext highlighter-rouge">N</code> goes into <code class="language-plaintext highlighter-rouge">(x+y)</code> and part of <code class="language-plaintext highlighter-rouge">N</code> goes into <code class="language-plaintext highlighter-rouge">(x-y)</code>. So we want <code class="language-plaintext highlighter-rouge">x^2≡y^2 mod N</code>.”</p><p>“Good! Good. Finding two squares that are congruent is the key, not just for the quadratic sieve, but for the number field, and for Shor’s algorithm to boot if you had a quantum computer. Fermat’s method looks for the squares, the quadratic sieve looks for smooth numbers and makes its own squares, and the number field sieve looks for number fields and makes squares from those. The rest is just a bunch of fiddling.”</p><p>“Most of math is a bunch of fiddling. Fiddling is hard!”</p><p>“Of course it is, but you know what I always say about the drunken sailor.”</p><p>Not this analogy again. “Yes, yes. If the drunken sailor stumbles about for <code class="language-plaintext highlighter-rouge">N</code> steps at random, he’ll walk in circles and only go a distance <code class="language-plaintext highlighter-rouge">√N</code> from where he started. But if there’s a pretty girl over in the distance, he’ll stumble this way, and that way, but he’ll go in a definite direction and cover a distance proportional to <code class="language-plaintext highlighter-rouge">N</code>. You’ve only told me about a hundred times.”</p><p>“And I’ll tell you a hundred more if need be. Having a goal clearly in mind makes the end state far, far easier to reach, even if it feels like you’re stumbling around in the dark. That’s critically important in mathematics.”</p><p>“You say that, and yet you won’t even tell me what the goal is!”</p><p>“I want you to understand RSA encryption. I have been perfectly clear about that for a long time.”</p><p>“But WHY?” I shouted at him.</p><p>“Good night, Miss Pomerance,” he said calmly, and vanished.</p><h2 id="part-3">Part 3</h2><p>It was eight months since the ghost started to appear, and five since I’d started learning about all the various ways to factor numbers. I’d read Jarvis’ chapter on the number field sieve, and for that matter Pollard’s entire book on it, and the Wikipedia article, and plenty more. I did three dozen Project Euler problems based on factorization and sieving, and read the threads, and learned not just how to implement a program to factor numbers but how to optimize programs to trade memory for time and vice versa. In one rare instance, I even got to tell the ghost something <em>he</em> didn’t know, when I stumbled upon Lucy_Hedgehog’s <code class="language-plaintext highlighter-rouge">O(n^(2/3))</code> algorithm for summing prime numbers; he was impressed, though when he found out it was based on a method for counting primes he immediately went on a tirade about the uselessness of approximations and upper bounds for any ‘real and practical work’. I’d learned an awful lot.</p><p>And I had a working number field sieve factorization program.</p><p>It’s difficult to say how much work went into that sentence. The quadratic sieve isn’t actually that hard to implement, if you don’t care too much about efficiency; all you have to is step through the numbers greater than <code class="language-plaintext highlighter-rouge">√N</code>, pick the ones without a prime factor bigger than some smoothness bound <code class="language-plaintext highlighter-rouge">B</code>, and collect them. If <code class="language-plaintext highlighter-rouge">B</code> is 47 (the fifteenth prime), then you need fifteen of those numbers. Once you have enough, you can make yourself a pair of squares <code class="language-plaintext highlighter-rouge">x</code> and <code class="language-plaintext highlighter-rouge">y</code>, calculate <code class="language-plaintext highlighter-rouge">(x+y)(x-y)</code>, and factoring <code class="language-plaintext highlighter-rouge">N</code> is smooth sailing. You could write that without knowing any real number theory at all.</p><p>But the number field sieve is a different beast entirely. Even when you stop being scared of words like <code class="language-plaintext highlighter-rouge">ring homomorphism</code>, even once you’re used to factoring numbers which aren’t even integers anymore, even once you’re used to writing phrases like ‘If 𝖕 is a nonzero prime ideal in ℤ_K appearing in the factorisation of 〈a + b√d〉 for some coprime pair (a, b)<code class="language-plaintext highlighter-rouge"> rather than writing good old-fashioned numbers, it still comes down to a lot of unavoidable work. Even the simplest version requires some good knowledge of algebraic number theory, and that version will fail for almost every number and only work in a few lucky cases. To get one fully general - which can truly cover any number - you have to not just know how to deal with large factorbases and large binary matrices, but you have to understand how rings (an odd name; think 'crime ring' instead of Sauron) can be factored and mapped to rational numbers, and how those rational numbers can be in turn mapped into </code>x<code class="language-plaintext highlighter-rouge"> and </code>y`. And from there, it’s the same thing - but so much work goes into the two words ‘from there’!</p><p>And the kicker is - it’s not <em>that</em> fast. Oh, it’s asymptotically faster than the quadratic, or any other classical algorithm for factoring semiprimes, but you only start to see an improvement when you have numbers with a hundred digits, or more. Unless you have numbers that big or bigger, it’s not at all worth it. And it still has limits - you still can’t factor a number that’s too big. And standard RSA? Way, way, WAY too big. So I still couldn’t see the point.</p><p>Even now, he had never once told me why he’d done all this. But now that I had this program working, written by hand and from scratch, I counted down the minutes until sunset. Now he’d <em>have</em> to tell me.</p><p>“Good evening, Miss Pomerance,” he said, arriving right on schedule.</p><p>“Good evening, Mister Ghost,” I replied formally. I was all dressed up for the occasion, since I figured honey would go further than vinegar. I’d come to like the old ghost, and if being all formal for one night would entice him to explain what was going on, I figured that was well worth it. And besides - tonight may as well have been my graduation.</p><p>“I must say, I’m extremely proud of you. Plenty of people could implement the number field sieve with enough perseverance, but not many people have that perseverance. You worked hard, and you learned a lot. Don’t discount that.”</p><p>I decided to start with the small questions first. “You know, Mister Ghost, you never did tell me why you only used my last name.”</p><p>“Perhaps I simply like your last name. You’ve noticed, I think, the name of the creator of the quadratic sieve?”</p><p>“Yes - Carl Pomerance. I looked him up, and it turns out he’s a third cousin of my dad’s. I never knew.”</p><p>“Mathematics must run in your family, then. It would be a waste for you not to know at least a little bit, if you have the knack for it.”</p><p>I laughed. “The knack? It took five months! And none of it was easy, and I had a ghost pestering me the entire time!”</p><p>“Yes, but so did lots of people. Perhaps not ghosts - though you never know - but lots of people needed guidance to do what they did. It didn’t mean they didn’t deserve what they accomplished.”</p><p>“Okay, Mister Ghost. I’m just going to ask. All this - all of this, the past eight months? Was it all for a sense of accomplishment? Did you see some poor girl not doing much with her life and decide to take her under her wing, only to reveal that the magic was inside her all along? Because, if that’s the point, if that’s why you did this, then there have to be better ways. I’ve enjoyed this, I’ll admit it, but I would have enjoyed plenty of other things too. Was that why?”</p><p>The ghost seemed genuinely taken aback. “My dear Miss Pomerance, I thought by now it would be very clear why I wanted you to learn and do all of this. You’re bright, you’re very bright, but sometimes you miss what is blindingly obvious.”</p><p>“Then tell me, please. I’ve gone through all this. If there’s a greater purpose, I deserve to know.”</p><p>The ghost smiled. “It has been a pleasure getting to know you. These past eight months have been some of the best of my…well, ‘life’ wouldn’t be the right term, now would it? But whatever this is, these months were the best of it. And I think you know already, you just don’t want to put the pieces together. All those boxes of books you had in your closet, that I got you to bring out - why were so many of those books about math?”</p><p>“I inherited a bunch of books when-“ I started, and choked. Oh. Of course! How had I never realized?</p><p>“Goodbye, Alice.” The ghost vanished for the last time.</p><h2 id="epilogue">Epilogue</h2><p>I made the three hour drive to my parents’ house that evening. Most of Grandpa’s things had gone to them, though he’d left half the books to me and all of his weights and grippers to my older brother. I’d checked all of the boxes I had in my place, and none of them had what I knew he must have been talking about.</p><p>“Alice!” said my mom. “Well, this is unexpected. What brings you home?”</p><p>“Grandpa’s stuff. It’s still in the basement, right?”</p><p>“Well, yes, but-“ she said, as I quickly stepped inside past her and took off my coat. “But why would you need it in such a rush?”</p><p>“You wouldn’t believe me if I told you!” I called back, heading to the basement. “Just give me a minute and I’ll show you!”</p><p>When I came upstairs triumphantly a few minutes later, my dad had heard the commotion and come down to see what was happening. “Is that Grandpa’s old stuff?”</p><p>“It sure is,” I said, putting the box down and pulling out the first notebook from it. “Remember these? He was always writing, and he always had those calculators with him too. Right up until the end.”</p><p>“Of course I remember,” said Dad. “Growing up, your uncles and I would always try to get a peek at those notebooks. Never understood them, though. Too much math.”</p><p>“No. Just the right amount of math.”</p><p>“Huh?”</p><p>“Give me a minute.”</p><p>I flipped through the first book and then the second, looking for something until suddenly-</p><p>“Aha! Look at this!”</p><p>Dad peered at it, and Mom put on her glasses and walked round to see what the fuss was about. “A really long number?”</p><p>“A huge number. Way more than a hundred digits. And I’ll bet you it’s semiprime.”</p><p>“Semi-what?”</p><p>I struggled, trying to dumb it down for them. “Uhhh, basically, you can use these to encrypt numbers, and you can turn messages in text into a number. And you can decrypt the messages the same way. All you need to know are the factors of the number.”</p><p>“What, and you just happen to know the factors?”</p><p>“I can figure them out.”</p><p>It took me twenty minutes to scan and OCR the pages, but at last I had the numbers, and I had the padding scheme he’d written in the margins to decrypt the message. I pulled out my laptop, booted up my number field sieve, and was about to hit ‘enter’ when I paused.</p><p>Would Grandpa have made it that difficult?</p><p>On a hunch, I took the number, and took the square root. I subtracted one and rounded down, and added one and rounded up. Then I multiplied them together.</p><p>It was the same number, down to the last digit. A pair of twin primes. No need for the number field sieve, or the quadratic sieve, or any number theory at all. I laughed out loud. Good old Grandpa.</p><blockquote><p>Alice,</p><p>By the time you read this, this message will be very old indeed. I write this to you on a summer afternoon in nineteen ninety-nine, and my lovely grandchildren are sound asleep in the next room. They’ve been running around all day at the park, and deserve a nice nap. You might know them. You might have met them, once or twice.</p><p>I told them both, walking home, that I was proud of them, and my granddaughter asked me, ‘Why? I didn’t do anything.’. I forget exactly what I said, but it wasn’t enough. It’s hard to explain the pride a parent feels, or a grandparent, to someone so young. I don’t think she was old enough to believe me. That’s why I wrote this.</p><p>My granddaughter is six years old, yet this was the first time I ever spent a full day with her. I don’t know how many more I’ll spend with her, but even if I’d only seen her for a second, I would have been proud. Seeing her, and her brother too, out there, running around, full of life, looking at the world with eyes so new, there’s no feeling in the world like it. It’s more than a craftsman looking at a fine piece of work, it’s more than a teacher seeing a student graduate. And it’s as real and deep as anything else I’ve ever felt. But I couldn’t explain it to her.</p><p>It is far more likely than not that you will never see this message, but if you do, know this: I am proud of you. I’ve been proud of you since you were six years old. And if you’ve managed to read this message, then you can’t doubt that this time, when I say that I’m proud of you, I truly mean it.</p><p>Your grandfather,<br /> Bob</p></blockquote></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/fiction/'>Fiction</a>, <a href='/categories/writing-prompts/'>Writing Prompts</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/fiction/" class="post-tag no-text-decoration" >fiction</a> <a href="/tags/writing-prompts/" class="post-tag no-text-decoration" >writing-prompts</a> <a href="/tags/david/" class="post-tag no-text-decoration" >david</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Night School - Hall of Impossible Dreams&url=http://hallofdreams.org/posts/night-school/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Night School - Hall of Impossible Dreams&u=http://hallofdreams.org/posts/night-school/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=Night School - Hall of Impossible Dreams&url=http://hallofdreams.org/posts/night-school/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="disqus" class="pt-2 pb-2"><p class="font-italic text-center text-muted small"> Comments powered by <a href="https://giscus.app">giscus</a>.</p></div><script src="https://giscus.app/client.js" data-repo="thecog19/blog-comments-giscus" data-repo-id="R_kgDOH0cdtg" data-category="Announcements" data-category-id="DIC_kwDOH0cdts4CQ02w" data-mapping="pathname" data-strict="0" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="bottom" data-theme="preferred_color_scheme" data-lang="en" data-loading="lazy" crossorigin="anonymous" async> </script></div></div></div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script> <script type="text/javascript"> const imgs = document.querySelectorAll('#post-wrapper img'); const observer = lozad(imgs); observer.observe(); </script><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2025 <a href="https://twitter.com/thecog19">Dave and Felipe</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy/" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-xl-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/david/">david</a> <a class="post-tag" href="/tags/programming/">programming</a> <a class="post-tag" href="/tags/felipe/">felipe</a> <a class="post-tag" href="/tags/fiction/">fiction</a> <a class="post-tag" href="/tags/rust/">rust</a> <a class="post-tag" href="/tags/writing-prompts/">writing prompts</a> <a class="post-tag" href="/tags/poetry/">poetry</a> <a class="post-tag" href="/tags/essay/">essay</a> <a class="post-tag" href="/tags/mathematica/">mathematica</a> <a class="post-tag" href="/tags/hatetris/">hatetris</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="http://hallofdreams.org{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"><div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>{categories}</div><div><i class="fa fa-tag fa-fw"></i>{tags}</div></div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>' }); </script> <script async src="https://www.googletagmanager.com/gtag/js?id=183607258"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', '183607258'); </script>
